## Default all HTTP Traffic to HTTPS
server {
  listen                    80 default_server;
  listen                    [::]:80 default_server;
  #server_name               your_domain_name.com;                   # Set to your FQDN
  #return 301                https://$server_name$request_uri;

  ## Domoticz
  location / {
    proxy_pass              http://127.0.0.1:8080/;
  }
}
 
## Domoticz Secure Proxy
server {
  #listen                    443 default_server ssl;
  #listen                    [::]:443 default_server ssl;
  #server_name               your_domain_name.com;                   # Set to your FQDN

  #ssl_certificate           /etc/ssl/server.crt;
  #ssl_certificate_key       /etc/ssl/private/server.key;
  #ssl_dhparam               /etc/ssl/certs/dhparam.pem;
 
  #ssl_session_timeout       60m;
  #ssl_session_cache         shared:SSL:10m;
  #ssl_protocols             TLSv1 TLSv1.1 TLSv1.2;
  #ssl_ciphers               EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:EECDH+aRSA+SHA384:EECDH+aRSA+SHA256:EECDH:EDH+aRSA:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS:!RC4;
  #ssl_prefer_server_ciphers on;
 
  add_header                Strict-Transport-Security max-age=63072000;
  add_header                X-Frame-Options SAMEORIGIN;
  add_header                X-Content-Type-Options nosniff;
 
  ## Domoticz
  location / {
    proxy_pass              http://127.0.0.1:8080/;
  }
}
